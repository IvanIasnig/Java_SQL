package Application;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;
import java.util.UUID;

public class Application {

    private static EntityManagerFactory emf;

    public static void main(String[] args) {

        // Creiamo l'EntityManagerFactory
        emf = Persistence.createEntityManagerFactory("simplejpa");
        EntityManager em = emf.createEntityManager();

        Evento festa = new Evento("Festa in piscina", TipoEvento.PUBBLICO, "Una festa in piscina", "20/07/2023", 100);
        EventoDAO ed = new EventoDAO(em);

        // *************** SAVE ***************
        // ed.save(festa);

        // *************** FIND BY ID **********
        UUID festaUUID = UUID.fromString("123e4567-e89b-12d3-a456-426614174000");
        Evento festaFromDB = ed.findById(festaUUID);
        System.out.println(festaFromDB);

        // ***************** DELETE **************
        // ed.findByIdAndDelete(festaUUID);

        // ****************** REFRESH *************
        // ed.refresh(festaUUID);

        // Ricordiamoci di chiudere entity manager & factory
        em.close();
        emf.close();

    }
}
